var resourcesobj = gon.new_variable
console.log(resourcesobj)
new Vue({
    el: "#v-for-resources",
    data: {
        search: '',
        resources: resourcesobj
    },
    computed: {
        filteredResources: function() {
            var input = $("#search").val();
            var self = this;
            console.log(input)
            if (input == '') {
            	$('#resources-rails, .current-category').show();
                return this.resources.filter(function(res) {
                    return res.title.toLowerCase().indexOf(self.search.toLowerCase()) >= 0;
                }).slice(0, 0);
            } else {
            	$('#resources-rails, .current-category').hide();
                return this.resources.filter(function(res) {
                    return res.title.toLowerCase().indexOf(self.search.toLowerCase()) >= 0;
                }).slice(0, 8);
            }
        }
    }
})


console.log("<%= @resourcesjs.html_safe? %>");
//console.log(gon.new_variable)